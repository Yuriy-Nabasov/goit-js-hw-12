{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["`use strict`; // Код у суворому режимі\n\n// Функції для відображення елементів інтерфейсу\n\nexport const createGalleryCardTemplate = imgInfo => {\n  return `\n    <li class=\"gallery-item gallery-card\">\n      <a class=\"gallery-link\" href=\"${imgInfo.largeImageURL}\">\n        <img\n          class=\"gallery-image gallery-img\"\n          src=\"${imgInfo.webformatURL}\"\n          alt=\"${imgInfo.tags}\"\n        />\n        <div class=\"gallery-info\">\n          <div class=\"info-item\">\n            <p>Likes</p>\n            <span>${imgInfo.likes}</span>\n          </div>\n          <div class=\"info-item\">\n            <p>Views</p>\n            <span>${imgInfo.views}</span>\n          </div>\n          <div class=\"info-item\">\n            <p>Comments</p>\n            <span>${imgInfo.comments}</span>\n          </div>\n          <div class=\"info-item\">\n            <p>Downloads</p>\n            <span>${imgInfo.downloads}</span>\n          </div>\n        </div>\n      </a>\n    </li>`;\n};\n","`use strict`; // Код у суворому режимі\n\n// Функції для HTTP-запитів\n\nexport const fetchPhotoByQuery = searchedQuery => {\n  const searchParams = new URLSearchParams({\n    key: `48208866-6baf83551ffafce9b15eedbf6`,\n    q: searchedQuery,\n    image_type: 'photo',\n    orientation: `horizontal`,\n    safesearch: `true`,\n    per_page: 30,\n  });\n  return fetch(`https://pixabay.com/api/?${searchParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n\n    return response.json();\n  });\n};\n","`use strict`; // Код у суворому режимі\n\n// Підключаємо бібліотеки\nimport iziToast from 'izitoast';\n// import 'izitoast/dist/css/iziToast.min.css'; // Стилі iziToast підключив через імпорт в styles.css\nimport SimpleLightbox from 'simplelightbox';\n// import 'simplelightbox/dist/simple-lightbox.min.css'; // Стилі iziToast підключив через імпорт в styles.css\n\n// Підключаємо функції\nimport { createGalleryCardTemplate } from './js/render-functions';\nimport { fetchPhotoByQuery } from './js/pixabay-api';\n\nconst searchFormEl = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector('.js-gallery');\nconst loaderEl = document.querySelector('.js-loader');\n\nlet lightbox = new SimpleLightbox('.gallery a', {\n  captions: true, // Включити підписи\n  captionsData: 'alt', // Джерело підпису: атрибут alt\n  captionDelay: 250, // Затримка перед відображенням підпису\n  animationSpeed: 300, // Швидкість анімації\n  overlayOpacity: 0.8, // Прозорість фону\n});\n\nconst onSearchFormSubmit = event => {\n  event.preventDefault();\n\n  const searchedQuery = event.currentTarget.elements.user_query.value.trim();\n\n  if (searchedQuery === '') {\n    iziToast.error({\n      title: 'Error',\n      message: `❌ Поле має бути заповнено!`,\n      position: 'topRight',\n    });\n\n    return;\n  }\n\n  galleryEl.innerHTML = ''; // Очищуємо галерею\n  loaderEl.style.display = 'block'; // Показуємо індикатор завантаження\n\n  fetchPhotoByQuery(searchedQuery)\n    .then(data => {\n      loaderEl.style.display = 'none'; // Ховаємо індикатор завантаження\n\n      if (data.hits.length === 0) {\n        iziToast.error({\n          title: 'Error',\n          message: `❌ Sorry, there are no images matching your search query. Please try again!`,\n          position: 'topRight',\n        });\n\n        // galleryEl.innerHTML = '';\n\n        searchFormEl.reset();\n\n        return;\n      }\n\n      const galleryTemplate = data.hits\n        .map(el => createGalleryCardTemplate(el))\n        .join('');\n\n      galleryEl.innerHTML = galleryTemplate;\n\n      lightbox.refresh(); // Оновлюємо SimpleLightbox\n    })\n    .catch(err => {\n      loaderEl.style.display = 'none'; // Ховаємо індикатор завантаження\n      iziToast.error({\n        title: 'Error',\n        message:\n          '❌ An error occurred while fetching data. Please try again later.',\n        position: 'topRight',\n      });\n      console.log(err);\n    });\n};\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\n"],"names":["createGalleryCardTemplate","imgInfo","fetchPhotoByQuery","searchedQuery","searchParams","response","searchFormEl","galleryEl","loaderEl","lightbox","SimpleLightbox","onSearchFormSubmit","event","iziToast","data","galleryTemplate","el","err"],"mappings":"6vBAIO,MAAMA,EAA4BC,GAChC;AAAA;AAAA,sCAE6BA,EAAQ,aAAa;AAAA;AAAA;AAAA,iBAG1CA,EAAQ,YAAY;AAAA,iBACpBA,EAAQ,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,oBAKTA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,oBAIbA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,oBAIbA,EAAQ,QAAQ;AAAA;AAAA;AAAA;AAAA,oBAIhBA,EAAQ,SAAS;AAAA;AAAA;AAAA;AAAA,WCxBxBC,EAAoBC,GAAiB,CAChD,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,SAAU,EACd,CAAG,EACD,OAAO,MAAM,4BAA4BC,CAAY,EAAE,EAAE,KAAKC,GAAY,CACxE,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAOA,EAAS,MACpB,CAAG,CACH,ECRMC,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAW,SAAS,cAAc,YAAY,EAEpD,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAC9C,SAAU,GACV,aAAc,MACd,aAAc,IACd,eAAgB,IAChB,eAAgB,EAClB,CAAC,EAED,MAAMC,EAAqBC,GAAS,CAClCA,EAAM,eAAc,EAEpB,MAAMT,EAAgBS,EAAM,cAAc,SAAS,WAAW,MAAM,OAEpE,GAAIT,IAAkB,GAAI,CACxBU,EAAS,MAAM,CACb,MAAO,QACP,QAAS,6BACT,SAAU,UAChB,CAAK,EAED,MACD,CAEDN,EAAU,UAAY,GACtBC,EAAS,MAAM,QAAU,QAEzBN,EAAkBC,CAAa,EAC5B,KAAKW,GAAQ,CAGZ,GAFAN,EAAS,MAAM,QAAU,OAErBM,EAAK,KAAK,SAAW,EAAG,CAC1BD,EAAS,MAAM,CACb,MAAO,QACP,QAAS,6EACT,SAAU,UACpB,CAAS,EAIDP,EAAa,MAAK,EAElB,MACD,CAED,MAAMS,EAAkBD,EAAK,KAC1B,IAAIE,GAAMhB,EAA0BgB,CAAE,CAAC,EACvC,KAAK,EAAE,EAEVT,EAAU,UAAYQ,EAEtBN,EAAS,QAAO,CACtB,CAAK,EACA,MAAMQ,GAAO,CACZT,EAAS,MAAM,QAAU,OACzBK,EAAS,MAAM,CACb,MAAO,QACP,QACE,mEACF,SAAU,UAClB,CAAO,EACD,QAAQ,IAAII,CAAG,CACrB,CAAK,CACL,EAEAX,EAAa,iBAAiB,SAAUK,CAAkB"}